# 排他制御とは
以下の表は排他制御の立ち位置を示すものである。

| 信頼のあるトランザクション処理に求められるもの | 内容一覧 | 目的 | RDB | Cassandra | 備考 |
----|---- |---- |---- |---- |---- 
| 排他制御(同時実行制御) | 楽観的排他制御 | 共有データへの同時アクセスにより、片方の更新処理がなかったことになる現象を回避する(ロストアップデートを回避する) | 可能 | 可能※Cassandraがサポートする軽量トランザクションにより実現可能だが、レイテンシが4倍になる | 参考リンク https://docs.datastax.com/ja/dse/5.1/dse-arch/datastax_enterprise/dbInternals/dbIntLtwtTransactions.html |
| " | 悲観的排他制御 | 同上 |可能|可能 ※別のOSSと組み合わせて実現可能だが、レイテンシ悪化＋場合によっては単一障害点あり。|参考リンク(ぐるなびの導入事例) https://www.slideshare.net/haketa/cassandra-cassandra-summit2014jpn|
| ACID特性 | 原子性 | 一連の処理が全て実行されるか、全てされないかのどちらかであることを担保する(ロールバックを実現する) |持つ|持たない||
| " | 一貫性 |  |持つ|持つ||
| " | 独立性 | トランザクションの途中の状態を観測されないことを担保する(ダーティリード、ファジーリード、ファントムリード※を回避する) ※関連リンク : https://qiita.com/momotaro98/items/ad859ec2934ee98540fb |持つ|持たない||
| " | 永続性 |  |持つ|持つ||

# まとめ
信頼のあるトランザクション処理を行うシステムでは、排他制御を行い、ACID特性を持たせる必要がある。
排他制御ができていないとロストアップデートが発生する。排他制御方法には楽観的排他制御と悲観的排他制御の2種類あり、それぞれ楽観ロック、悲観ロックと呼ぶ。
参考リンク：https://qiita.com/NagaokaKenichi/items/73040df85b7bd4e9ecfc
