# NOSQL  
NOSQLとは、Not Only SQLの略で「SQLだけでは十分でない」という意味である。  
これは"SQL(RDB)ではビッグデータ対応には"十分でない、という意味である。  
  
# ビッグデータ対応  
ビッグデータとはサイズの小さなデータが膨大に集まり、大きなデータの塊になったものを指す。  
単に大きなファイルは「ラージオブジェクト」と呼ばれる。  
  
「ビッグデータ対応」とは3Vに対応するということである。  
```  
3V  
・膨大な量 = Volume  
・速さ = Velocity  
・多様性 = Variety  
```  
  
### 膨大な量 = Volume  
ビッグデータを格納・処理することはハードウェアの性能向上（ハードディスクを大きく速いものにする）だけでは到底追いつけない。  
安価ながらそれなりの性能を持ったハードウェアを複数ならべ、あたかも一つの最高性能の装置のように扱う必要がある。  
  
### 速さ = Velocity  
ビッグデータを高速に処理することはハードウェアの性能向上だけでは到底追いつけない。  
こちらも分散して処理する仕組みが必要である。  
  
### 多様性 = Variety  
ビッグデータはデータの形が多種多様に変化していくもので、複雑なデータ構造と、複雑な相互関係を持つ。  
これらに対応できる仕組みが求められる。  
  
RDBは単一ハードウェアで稼働する場合は最適だが、データを分散させるには不向きだ。  
また多種多様なデータにおいてRDBでいう構造化は不可能である。  
結果、NOSQLが求められた。  
  
# NOSQLのデータモデル  
### SQLのデータモデル  
表の形でデータ構造を設計し、正規化でデータの冗長性と不整合を排除している。  
これにより個々のデータは定型化され、相互の関係性が明確に定義される。  
データの発生よりも先にデータ構造をテーブルの形に固定しておくことで、その関係性に揺らぎが生じないようになっている。  
  
### キー・バリュー型NOSQLのデータモデル  
テーブルや関係性を定義せずに、「キー」と「バリュー」の組み合わせからなるシンプルなデータモデル。  
キーによりバリューを一意に識別する。  
  
データが増えるに従って縦方向（行）に伸びていく。  
  
特徴  
```  
・データモデルがシンプル  
SQLのようなスキーマがなく、多くはキーはstring, バリューはBLOB（Binary Large OBject : ブロブ）でもつ。  
  
・スケールアウトに最適  
データ間の関係性がないため整合性を保つための排他ロックが不要なため、複数サーバーでデータをシャーディングすることが容易である。  
  
・	レプリケーションが可能  
シャーディングだけではなくレプリケーションを考慮したNOSQL製品もある。  
```  
  
### カラム指向型NOSQLのデータモデル  
キー・バリュー型を少し高度にしたデータモデルで、1つのキーが1つのバリューと対になるのではなく、  
複数のキー・バリューを1キー（行キー）でグループ化するデータモデル。個々のキー・バリューをカラムと呼んでいる。  
グループ化されたカラム群と行キーを合わせてカラムファミリーと呼ぶ。  
  
テーブルではないのでキー毎のカラム数は固定されておらず、動的に追加できる。  
また全てのカラムにバリューが挿入されていないことも許容される。  
  
データが増えるに従って縦方向（行）と横方向（列）に伸びていく。  
  
特徴  
```  
カラムファミリー名と行キーは予め定義しておく必要があるが、その中のカラム（キー・バリュー）は動的に増やしていくことができる。（横方向に伸びていく）  
例えばカラム名（つまりキー）をタイムスタンプにして追加していくなど。  
当然、行キーが追加されていくこともある。（縦方向に伸びていく）  
  
キー・バリューと同様にスケールアウトに最適である。  
```  
  
### ドキュメント指向型NOSQLのデータモデル  
JSONやXMLなどの書式で記述されたドキュメントの形でデータを管理するデータモデル。  
  
### グラフ型NOSQLのデータモデル  
データとデータのつながりを管理できるデータモデル。  
