# リファクタリングの原則  
```  
コンピュータサイエンスは、間接層(indirection)を設けることであらゆる問題が解決できるという信念に基づいた学問である。ーDennis DeBruler  
  
リファクタリングをするとパフォーマンスが遅くなることが多いが、まず、リファクタリングでプログラムを整理された形で書き上げる。  
その後プロファイラでチェックしてボトルネックを解消していく。  
リファクタリングによって整理されたコードは修正しやすく、パフォーマンスの改善がやりやすい。  
```  
  
  
# リファクタリング・カタログ  
## メソッドの構成  
```  
メソッド内で使われている一時変数は「問い合わせによる一時変数の置き換え」を適用する。その後「一時変数のインライン化」を適用してから「メソッドの抽出」を行う。  
そうすることで抽出メソッドに引数で渡すパラメータが不要になる。  
  
「問い合わせによる一時変数の置き換え」→「一時変数のインライン化」が適用できず、一時変数が取り除けない状態で「メソッドの抽出」を行う場合は以下を行う。  
一時変数が読まれるだけなら単純に抽出メソッドの引数で一時変数を渡す。  
一時変数に代入が行われている場合は2つの方法がある。  
（1）一時変数が抽出部分のみに利用されている場合は、一時変数ごと抽出する。  
（2）一時変数が抽出部分以外にも利用されている場合は、戻り値で一時変数を返却する。戻り値が複数ある場合は抽出部分を見直す。  
  
ローカル変数... メソッドの引数と一時変数。  
パラメータ... 振る舞いの特性を表す変数。  
パラメタライズ... パラメータを取り出して振る舞いを制御する設計。  
引数... パラメータをメソッドに渡せるインターフェースの一つ。  
```  
  
### メソッドの抽出  
メソッドが長すぎるから。  
  
### メソッドのインライン化  
間接層が多すぎてわかりずらいから。  
  
### 一時変数のインライン化  
「メソッドの抽出」がしずらいから。  
通常「問い合わせによる一時変数の置き換え」の後に適用する。  
  
### 問い合わせによる一時変数の置き換え  
メソッドが長くなるから。  
  
### 説明用変数の導入  
ローカル変数が多すぎて「メソッドの抽出」が使えないから。  
  
### 一時変数の分離  
一つの変数が複数の用途で使われているとわかりずらいから。  
  
### 	パラメータへの代入の除去  
「値渡し」と「参照渡し」が混在してわかりずらいから。  
  
### メソッドオブジェクトによるメソッドの置き換え  
メソッドの抽出ができないローカル変数の使い方をしているから。  
  
### アルゴリズムの取り替え  
今のアルゴリズムがわかりずらいから。  
  
  
## オブジェクト間での特性の移動  
## メソッドの移動  
  
